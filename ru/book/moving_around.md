# Перемещение по системе

Ранние оболочки позволяли вам перемещаться по файловой системе и выполнять команды, и современные оболочки, такие как Nu, позволяют вам делать то же самое. Давайте рассмотрим некоторые общие команды, которые вы можете использовать при взаимодействии с системой.

## Просмотр содержимого каталога

@[code](@snippets/moving_around/ls_example.sh)

Как мы уже видели в других главах, [`ls`](/commands/docs/ls.md) - это команда для просмотра содержимого пути. Nu вернет содержимое в виде таблицы, которую мы можем использовать.

Команда [`ls`](/commands/docs/ls.md) также принимает дополнительный аргумент, чтобы изменить то, что вы хотите просмотреть. Например, мы можем вывести список файлов, которые заканчиваются на ".md"

@[code](@snippets/moving_around/ls_shallow_glob_example.sh)

## Glob patterns (подстановочные знаки)

Звездочка (\*) в приведенном выше необязательном аргументе "\*.md" иногда называется подстановочным знаком или glob. Она позволяет нам искать соответствия чему угодно. Вы можете прочитать glob "\*.md" как "соответствовать любому имени файла, если оно заканчивается на '.md'".

Самый общий glob - `*`, который будет соответствовать всем путям. Чаще всего этот шаблон используется как часть другого шаблона, например `*.bak` и `temp*`.

В Nushell мы также поддерживаем двойное `*`, чтобы говорить об обходе более глубоких путей, которые вложены в другие каталоги. Например, `ls **/*` выведет список всех не скрытых путей, вложенных в текущий каталог.

@[code](@snippets/moving_around/ls_deep_glob_example.sh)

Здесь мы ищем любой файл, который заканчивается на ".md", а две звездочки далее говорят "в любой директории, начиная отсюда".

В других оболочках (например, bash) расширение glob происходит в самой оболочке, и вызванная программа (`ls` в примере выше) получает список найденных файлов. Однако в Nushell строка, которую вы вводите, передается команде "как есть", и некоторые команды (например, `ls`, `mv`, `cp` и `rm`) интерпретируют свою входную строку как шаблон glob. Например, на странице помощи команды [`ls`](https://www.nushell.sh/commands/docs/ls.html) показано, что она принимает параметр: `pattern: the glob pattern to use (optional)`.

Синтаксис globbing в этих командах поддерживает не только `*`, но и сопоставление [отдельных символов с `?` и групп символов с `[...]`](https://docs.rs/nu-glob/latest/nu_glob/struct.Pattern.html). Обратите внимание, что это более ограниченный синтаксис, чем тот, который поддерживает специальная команда [`glob` Nushell](https://www.nushell.sh/commands/docs/glob.html).
Чтобы избежать `*`, `?`, `[]` заключите их в одинарные или двойные кавычки. Чтобы показать содержимое каталога с именем `[slug]`, используйте `ls "[slug]"` или `ls '[slug]'`.
Обратите внимание, что обратный знак кавычек не экранирует, например, glob: <code>cp \`test dir/\*\`</code> скопирует все файлы из `test dir` в текущий каталог.

Если вы передадите переменную в команду, поддерживающую globbing, например: `let f = "a[bc]d.txt"; rm $f`. Это не расширит шаблон glob, будет удален только файл с именем `a[bc]d.txt`. Обычно это то, что вам нужно, но если вы хотите расширить шаблон glob, есть 3 способа добиться этого:

1. Использование оператора spread вместе с командой `glob`: `let f = "a[bc]d.txt"; rm ...(glob $f)`. Этот способ рекомендуется, потому что он выражен наиболее явно, но он не работает с командами `ls` и `du`, для этого случая вы можете
2. используя команду `into glob`: `let f = "a[bc]d.txt"; ls ($f | into glob)`. Это полезно для команд `ls` и `du`.
3. аннотируйте переменную с типом `glob`: `let f: glob = "a[bc]d.txt"; rm $f`. Он прост в написании, но не работает с внешними командами типа `^rm $f`.

## Изменение текущей директории

@[code](@snippets/moving_around/cd_example.sh)

Чтобы перейти из текущей директории в новую, мы используем команду [`cd`](/commands/docs/cd.md). Как и в других оболочках, мы можем использовать либо имя каталога, либо, если мы хотим подняться вверх по каталогу, мы можем использовать сокращение `...`.

Изменение текущего рабочего каталога также возможно, если опущен [`cd`](/commands/docs/cd.md) и указан путь сам по себе:

@[code](@snippets/moving_around/cd_without_command_example.sh)

**Примечание:** изменение каталога с помощью [`cd`](/commands/docs/cd.md) изменяет переменную окружения `PWD`. Это означает, что изменение директории сохраняется в текущем блоке. После выхода из блока вы вернетесь в предыдущий каталог. Подробнее о работе с этим можно узнать в главе [environment](./environment.md).

## Команды файловой системы

Nu также предоставляет некоторые базовые команды файловой системы, которые работают в кросс-платформенном режиме.

Мы можем переместить элемент из одного места в другое с помощью команды [`mv`](/commands/docs/mv.md):

@[code](@snippets/moving_around/mv_example.sh)

Мы можем скопировать элемент из одного места в другое с помощью команды [`cp`](/commands/docs/cp.md):

@[code](@snippets/moving_around/cp_example.sh)

Мы можем удалить элемент с помощью команды [`rm`](/commands/docs/rm.md):

@[code](@snippets/moving_around/rm_example.sh)

Эти три команды также могут использовать возможности glob, которые мы видели ранее с [`ls`](/commands/docs/ls.md).

Наконец, мы можем создать новый каталог с помощью команды [`mkdir`](/commands/docs/mkdir.md):

@[code](@snippets/moving_around/mkdir_example.sh)
