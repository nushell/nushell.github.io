# Оболочка по умолчанию

## Настройка Nu как оболочка по умолчанию в вашем терминале

|     Терминал     | Платформа    |                                                                                                                                           Инструкции                                                                                                                                            |
| :--------------: | ------------ | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|  GNOME Terminal  | Linux & BSDs |                                     Открыть `Edit > Preferences`. В правой панели выберите вкладку `Command`, поставке галочку возле пункта `Run a custom command instead of my shell`, в поле `Custom command` укажите путь к расположению директории Nu.                                      |
|  GNOME Console   | Linux & BSDs |          Введите команду `gsettings set org.gnome.Console shell "['/usr/bin/nu']"` (замените `/usr/bin/nu` на путь расположения директории Nu). Эквивалентно, используйте [dconf Editor](https://apps.gnome.org/DconfEditor/) чтобы отредактировать ключь `/org/gnome/Console/shell`.           |
|      Kitty       | Linux & BSDs |                                                                 Нажмите `Ctrl`+`Shift`+`F2` чтобы открыть `kitty.conf`. Перейдите в раздел `shell`, расскоментируйте строку и замените `.` на путь расположения директории Nu.                                                                  |
|     Konsole      | Linux & BSDs |                                                                                             Откройте `Settings > Edit Current Profile`. В поле `Command` укажите путь к расположению директории Nu.                                                                                             |
|  XFCE Terminal   | Linux & BSDs |                                                                 Откройте `Edit > Preferences`. поставте галочку `Run a custom command instead of my shell`, в поле `Custom command` укажите путь к расположению директории Nu.                                                                  |
|   Terminal.app   | macOS        | Откройте `Terminal > Preferences`. Убедитесь что вы находитесь на вкладке `Profiles`, которая должна быть выбрана по умолчанию. В правой панели выберите вкладку `Shell`. поставте галочку возде пункта `Run command`, введите путь к Nu в текстовое поле, и снемите влажок `Run inside shell`. |
|      iTerm2      | macOS        |                                  Открой `iTerm > Preferences`. выбери вкладку `Profiles`. В правой части панели под текстом `Command`, в выпадающем меню измени `Login Shell` на `Custom Shell`, и вставь в текстовое поле путь к расположению директории Nu.                                   |
| Windows Terminal | Windows      |        Нажми `Ctrl`+`,` для открытия `Settings`. Перейди `Add a new profile > New empty profile`. Заполни 'Name' и укажите путь к расположению директории Nu в текстовое поле 'Command line'. Перейди в настройки `Startup` и выбери Nu как 'профиль по умолчанию'. Нажми кнопку `Save`.        |

## Настройка Nu как login shell (Linux, BSD и macOS)

::: warning
Nu не предназначен для обеспечения совместимости с POSIX.
Имейте в виду, что некоторые программы в вашей системе (или из документация) могут предпологать что ваша оболочка входа в систему совместима с [POSIX](https://en.wikipedia.org/wiki/POSIX).
Нарушение этого предположения может привести к неожиданным проблемам. Дополнительные сведения см. в разделе [Конфигурация - Login Shell](./configuration.md#configuring-nu-as-a-login-shell).
:::

Чтобы установить login shell вы можете воспользоваться командой [`chsh`](https://linux.die.net/man/1/chsh).
Некоторые дистрибутивы Linux имеют список доступных оболочек, расположенных в `/etc/shells` и запрещают изменять оболочку пока Nu в белом списке (whitelist).
Вы можете увидить ошибку, подобную приведённой ниже, если вы не обновили файл `shells`:

@[code](@snippets/installation/chsh_invalid_shell_error.sh)

Вы можете добавить Nu в список разрешенных оболочек, добавив свой бинарник Nu в файл `shells`.
Путь к добавлению можно найти с помощью команды `which nu`, обычно это `$HOME/.cargo/bin/nu`.
